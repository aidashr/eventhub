[{"C:\\Users\\Sahand\\Desktop\\eventhub\\frontend\\src\\pages\\Signup.js":"1","C:\\Users\\Sahand\\Desktop\\eventhub\\frontend\\src\\components\\Cafes.js":"2","C:\\Users\\Sahand\\Desktop\\eventhub\\frontend\\src\\pages\\Login.js":"3"},{"size":20619,"mtime":1607017531993,"results":"4","hashOfConfig":"5"},{"size":4047,"mtime":1607016593892,"results":"6","hashOfConfig":"5"},{"size":4612,"mtime":1607017132671,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":29,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"mydlnt",{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"12","messages":"13","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},"C:\\Users\\Sahand\\Desktop\\eventhub\\frontend\\src\\pages\\Signup.js",["15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43"],"C:\\Users\\Sahand\\Desktop\\eventhub\\frontend\\src\\components\\Cafes.js",[],"C:\\Users\\Sahand\\Desktop\\eventhub\\frontend\\src\\pages\\Login.js",["44","45","46","47","48","49","50","51"],"import { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport axios from \"axios\";\r\nimport Cookies from 'universal-cookie';\r\n\r\n\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n\r\n      errusername: false,\r\n      errpassword: false,\r\n\r\n      is_regular: false,\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    //'http://127.0.0.1:8000/users/login?username=matin&password=1234'\r\n    axios.get('http://127.0.0.1:8000/users/login',\r\n      { params: { username: this.state.username, password: this.state.password } })\r\n      .then((res) => {\r\n        console.log('Login Token : ' + res.data.token) //LOG\r\n        console.log('username : ' + res.data.user.username); //LOG\r\n        console.log('password : ' + res.data.user.password); //LOG\r\n        console.log('Id : ' + res.data.user.id) //LOG\r\n        console.log('is_regular : ' + res.data.user.is_regular) //LOG\r\n        this.state.is_regular = res.data.user.is_regular;\r\n        if (res.status === 200) {\r\n          this.setState({ isLogedIn: true });\r\n          console.log(this.state) //LOG\r\n\r\n          cookies.set('TOKEN', res.data.token);\r\n          console.log(cookies.get('TOKEN'));//LOG\r\n\r\n          cookies.set('ID', res.data.user.id);\r\n          console.log(cookies.get('ID'));//LOG\r\n\r\n          cookies.set('Is_Regular', res.data.user.is_regular);\r\n          console.log(cookies.get('Is_Regular'));//LOG\r\n        }\r\n      }).catch((error) => {\r\n        if (error.response) {\r\n          this.setState({ isLogedIn: false });\r\n          this.state.errusername = (error.response.data.username != undefined) ? true : false;\r\n          this.state.errpassword = (error.response.data.password != undefined) ? true : false;\r\n\r\n          this.state.errusernameText = error.response.data.username;\r\n          this.state.errpasswordText = error.response.data.password;\r\n          this.state.er = error.response.data.non_field_errors;\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLogedIn) {\r\n      if (this.state.is_regular)\r\n        return <Redirect to={{ pathname: \"/user-profile\" }} />;\r\n      if (!this.state.is_regular)\r\n        return <Redirect to={{ pathname: \"/user-profile\" }} />;\r\n    }\r\n    return (\r\n      <div className=\"container-md\">\r\n        <div className=\"row justify-content-center pt-2 pt-md-4\">\r\n          <div className=\"col-auto shadow-lg border border-secondry rounded p-3\" style={{ width: 400 }}>\r\n            <form onSubmit={this.handleSubmit}>\r\n\r\n              <h5 className=\"text text-center font-weight-bold mb-4\">Login</h5>\r\n\r\n              <small className=\"text text-danger\">{this.state.er}</small>\r\n\r\n              <div className=\"input-group mb-2\">\r\n                <div className=\"input-group-prepend\">\r\n                  <div className=\"input-group-text\">\r\n                    <i className=\"fas fa-user fa-lg\" style={{ width: 20 }}></i>\r\n                  </div>\r\n                </div>\r\n                <input type=\"text\" className=\"form-control\" name=\"username\" username={this.state.username} onChange={this.handleChange} placeholder=\"Username\" />\r\n              </div>\r\n              {this.state.errusername ? <small className=\"text text-danger\">{this.state.errusernameText}</small> : null}\r\n\r\n              <div className=\"input-group mb-2\">\r\n                <div className=\"input-group-prepend\">\r\n                  <div className=\"input-group-text\">\r\n                    <i className=\"fas fa-lock fa-lg\" style={{ width: 20 }}></i>\r\n                  </div>\r\n                </div>\r\n                <input type=\"text\" className=\"form-control\" name=\"password\" password={this.state.password} onChange={this.handleChange} placeholder=\"Password\" />\r\n              </div>\r\n              {this.state.errpassword ? <small className=\"text text-danger\">{this.state.errpasswordText}</small> : null}\r\n\r\n              <button className=\"btn btn-primary rounded-pill font-weight-bold w-100 mb-3\" value=\"Submit\" onClick={this.handleSubmit} onSubmit={this.handleSubmit}>Login</button>\r\n              <a className=\"btn btn-outline-primary rounded-pill font-weight-bold w-100\" href=\"/sign-up\">Create an account</a>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Login;\r\n",{"ruleId":"52","severity":1,"message":"53","line":59,"column":45,"nodeType":"54","messageId":"55","endLine":59,"endColumn":47},{"ruleId":"52","severity":1,"message":"53","line":60,"column":43,"nodeType":"54","messageId":"55","endLine":60,"endColumn":45},{"ruleId":"56","severity":1,"message":"57","line":102,"column":21,"nodeType":"58","endLine":102,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":102,"column":77,"nodeType":"54","messageId":"55","endLine":102,"endColumn":79},{"ruleId":"56","severity":1,"message":"57","line":103,"column":21,"nodeType":"58","endLine":103,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":103,"column":81,"nodeType":"54","messageId":"55","endLine":103,"endColumn":83},{"ruleId":"56","severity":1,"message":"57","line":104,"column":21,"nodeType":"58","endLine":104,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":104,"column":88,"nodeType":"54","messageId":"55","endLine":104,"endColumn":90},{"ruleId":"56","severity":1,"message":"57","line":105,"column":21,"nodeType":"58","endLine":105,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":105,"column":75,"nodeType":"54","messageId":"55","endLine":105,"endColumn":77},{"ruleId":"56","severity":1,"message":"57","line":106,"column":21,"nodeType":"58","endLine":106,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":106,"column":81,"nodeType":"54","messageId":"55","endLine":106,"endColumn":83},{"ruleId":"56","severity":1,"message":"57","line":108,"column":21,"nodeType":"58","endLine":108,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":109,"column":21,"nodeType":"58","endLine":109,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":110,"column":21,"nodeType":"58","endLine":110,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":111,"column":21,"nodeType":"58","endLine":111,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":112,"column":21,"nodeType":"58","endLine":112,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":156,"column":21,"nodeType":"58","endLine":156,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":156,"column":76,"nodeType":"54","messageId":"55","endLine":156,"endColumn":78},{"ruleId":"56","severity":1,"message":"57","line":157,"column":21,"nodeType":"58","endLine":157,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":157,"column":83,"nodeType":"54","messageId":"55","endLine":157,"endColumn":85},{"ruleId":"56","severity":1,"message":"57","line":158,"column":21,"nodeType":"58","endLine":158,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":158,"column":70,"nodeType":"54","messageId":"55","endLine":158,"endColumn":72},{"ruleId":"56","severity":1,"message":"57","line":159,"column":21,"nodeType":"58","endLine":159,"endColumn":31},{"ruleId":"52","severity":1,"message":"53","line":159,"column":76,"nodeType":"54","messageId":"55","endLine":159,"endColumn":78},{"ruleId":"56","severity":1,"message":"57","line":161,"column":21,"nodeType":"58","endLine":161,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":162,"column":21,"nodeType":"58","endLine":162,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":163,"column":21,"nodeType":"58","endLine":163,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":164,"column":21,"nodeType":"58","endLine":164,"endColumn":31},{"ruleId":"56","severity":1,"message":"57","line":44,"column":9,"nodeType":"58","endLine":44,"endColumn":19},{"ruleId":"56","severity":1,"message":"57","line":61,"column":11,"nodeType":"58","endLine":61,"endColumn":21},{"ruleId":"52","severity":1,"message":"53","line":61,"column":66,"nodeType":"54","messageId":"55","endLine":61,"endColumn":68},{"ruleId":"56","severity":1,"message":"57","line":62,"column":11,"nodeType":"58","endLine":62,"endColumn":21},{"ruleId":"52","severity":1,"message":"53","line":62,"column":66,"nodeType":"54","messageId":"55","endLine":62,"endColumn":68},{"ruleId":"56","severity":1,"message":"57","line":64,"column":11,"nodeType":"58","endLine":64,"endColumn":21},{"ruleId":"56","severity":1,"message":"57","line":65,"column":11,"nodeType":"58","endLine":65,"endColumn":21},{"ruleId":"56","severity":1,"message":"57","line":66,"column":11,"nodeType":"58","endLine":66,"endColumn":21},"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression"]